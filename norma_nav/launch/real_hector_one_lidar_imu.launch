<launch>
  <!-- Arguments -->
  <arg name="map_file" default="$(find norma_nav)/maps/lab_map.yaml"/>
  <arg name="open_rviz" default="true"/>

  <arg name="base_frame" default="base_link"/>
  <arg name="map_frame"  default="map"/>

  <include file="$(find norma_bringup)/launch/urg_lidar.launch">
    <arg name="serial_port" value="/dev/ttyACM0" />
    <arg name="frame_id" value="laser"/>
  </include> 
  <node pkg="tf2_ros" type="static_transform_publisher" name="base_to_rear_laser_transform" args="-0.3 0.38 0 1.57079632679 0 0 base_link laser" />


  <include file="$(find norma_nav)/launch/hector_mapping.launch">
    <arg name="base_frame" value="$(arg base_frame)"/>
    <arg name="odom_frame" value="$(arg base_frame)"/>
    <arg name="pub_map_odom_transform" value="true"/>

    <arg name="scan_topic" value="/scan_laser" />
  </include>

  <node type="rviz" name="rviz" pkg="rviz" args="-d $(find norma_nav)/rviz/gmapping.rviz" />
</launch>
